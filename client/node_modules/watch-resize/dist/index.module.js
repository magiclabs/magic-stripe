function e(e,t){return new Promise(function(n,o){if(null==e)return o(Promise.reject(new Error("[watch-resize] The given element must be defined.")));if(!function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}(e))return o(Promise.reject(new Error("[watch-resize] The given element is not a valid DOM node.")));if(!e.parentNode)return o(Promise.reject(new Error("[watch-resize] The given element is not yet attached to the DOM.")));"static"===getComputedStyle(e).position&&(e.style.position="relative");var i=document.createElement("object");i.type="text/html",i.data="about:blank",i.style.display="block",i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.height="100%",i.style.width="100%",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.zIndex="-1";var r=e.getBoundingClientRect();i.addEventListener("load",function(){if(i.contentDocument&&i.contentDocument.defaultView){var l=i.contentDocument.defaultView,s=function(n){t({element:e,event:n,prevBoundingClientRect:r,destroy:c}),r=e.getBoundingClientRect()},c=function(){l.removeEventListener("resize",s),i.remove()};l.addEventListener("resize",s),n(c)}else o(new Error("[watch-resize] Failed to build a nested browsing context."))}),e.appendChild(i)})}export{e as watchResize};
//# sourceMappingURL=index.module.js.map
