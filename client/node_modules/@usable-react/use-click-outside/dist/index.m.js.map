{"version":3,"file":"index.m.js","sources":["../../use-dom-event/dist/index.m.js","../src/index.ts","../../use-effect-trigger/dist/index.m.js"],"sourcesContent":["import{useRef as n,useEffect as r,useCallback as t}from\"react\";function e(n){return n instanceof HTMLDocument}function u(n){return n instanceof Window}function c(n){return!!n.current}function o(n){try{return n instanceof HTMLElement}catch(r){return\"object\"==typeof n&&1===n.nodeType&&\"object\"==typeof n.style&&\"object\"==typeof n.ownerDocument}}function i(i){return function(){for(var f=arguments.length,a=new Array(f),v=0;v<f;v++)a[v]=arguments[v];var s=a[0],m=a[1],y=a[2],d=n(m),p=n(y),L=n(function(){});return r(function(){d.current=m},[m]),r(function(){p.current=y},[y]),r(function(){if(u(i)||e(i)||o(i)){var n=function(n){return d.current(n)};return i.addEventListener(s,n,p.current),L.current=function(){i.removeEventListener(s,n,p.current)},L.current}if(c(i)&&i.current&&o(i.current)){var r=function(n){return d.current(n)};return i.current.addEventListener(s,r,p.current),L.current=function(){i.current.removeEventListener(s,r,p.current)},L.current}},[s,i]),t(function(){return L.current()},[s,i])}}export{i as useDomEvent};\n//# sourceMappingURL=index.m.js.map\n","import { EffectCallback, DependencyList } from 'react';\nimport { useDomEvent } from '@usable-react/use-dom-event';\nimport { useEffectTrigger } from '@usable-react/use-effect-trigger';\n\nexport function useClickOutside(element: HTMLElement | null, effect: EffectCallback, deps?: DependencyList): void;\nexport function useClickOutside(elements: (HTMLElement | null)[], effect: EffectCallback, deps?: DependencyList): void;\nexport function useClickOutside(\n  elements: HTMLElement | null | (HTMLElement | null)[],\n  effect: EffectCallback,\n  deps: DependencyList = [],\n): void {\n  const elList = Array.isArray(elements) ? elements : [elements];\n  const triggerClickOutside = useEffectTrigger(effect, deps);\n\n  const addWindowListener = useDomEvent(window);\n  addWindowListener('click', e => {\n    if (elList.every(el => !!el && !el.contains(e.target as any))) triggerClickOutside();\n  });\n}\n","import{useRef as r,useEffect as n,useState as t,useCallback as c}from\"react\";function u(u,o){void 0===o&&(o=[]);var e,i,f,a=t(0),m=a[0],p=a[1],v=(i=e=m,f=r(),n(function(){f.current=i}),f.current!==e),d=r(u);return n(function(){d.current=u},[u]),n(function(){if(v)return d.current()},[m].concat(o)),c(function(){return p(m+1)},[m])}export{u as useEffectTrigger};\n//# sourceMappingURL=index.m.js.map\n"],"names":["isDocument","obj","HTMLDocument","isWindow","Window","isRefObject","current","isElement","HTMLElement","e","nodeType","style","ownerDocument","useClickOutside","elements","effect","deps","elList","Array","isArray","triggerClickOutside","useState","trigger","setTrigger","didTriggerUpdate","savedCallback","useRef","useEffect","useCallback","useEffectTrigger","window","every","el","contains","target"],"mappings":"sFAEgBA,EAAWC,GACzB,OAAOA,aAAeC,sBAGRC,EAASF,GACvB,OAAOA,aAAeG,gBAGRC,EAAeJ,GAC7B,QAASA,EAAIK,iBAGCC,EAAUN,GACxB,IAEE,OAAOA,aAAeO,kBACfC,GAIP,MACiB,iBAARR,GACU,IAAjBA,EAAIS,UACiB,iBAAdT,EAAIU,OACkB,iBAAtBV,EAAIW,wBCpBDC,EACdC,EACAC,EACAC,YAAAA,IAAAA,EAAuB,IAEvB,MAAMC,EAASC,MAAMC,QAAQL,GAAYA,EAAW,CAACA,GAC/CM,WCGyBL,EAAwBC,QAAAA,IAAAA,IAAAA,EAAuB,IAAA,YAChDK,EAAS,GAAhCC,EAAAA,EAAAA,GAASC,EAAAA,EAAAA,GACVC,GAAAA,IAA8BF,EAAAA,EAAAA,IAAAA,EAAAA,WAAAA,EAAAA,QAAAA,IAAAA,EAAAA,aAC9BG,EAAgBC,EAAOX,GAc7B,OAZAY,EAAU,WACRF,EAAcnB,QAAUS,GACvB,CAACA,IAEJY,EAAU,WACR,GAAIH,EACF,OAAOC,EAAcnB,WAAAA,CAIrBgB,GAAAA,OAAYN,IAETY,EAAY,WAAA,OAAML,EAAWD,EAAU,IAAI,CAACA,IDpBvBO,CAAiBd,EAAQC,MAEfc,yoBACpB,QAAS,SAAArB,GACrBQ,EAAOc,MAAM,SAAAC,WAAQA,IAAOA,EAAGC,SAASxB,EAAEyB,WAAiBd"}