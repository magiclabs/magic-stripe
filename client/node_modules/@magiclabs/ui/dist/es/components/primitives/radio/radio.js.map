{"version":3,"file":"radio.js","sources":["../../../../../src/components/primitives/radio/radio.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport React, { useRef, createContext, useContext } from 'react';\nimport { PressEvent } from '@react-types/shared';\nimport { usePress, useHover } from '@react-aria/interactions';\nimport composeRefs from '@seznam/compose-react-refs';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useFocusRing } from '@react-aria/focus';\nimport { mergeProps } from '../../../libs/merge-props';\nimport { classNames } from '../../../libs/class-names';\nimport { Spacer } from '../../layout';\nimport { useScale, useScaleIn } from '../../../hooks/transitions';\nimport { forwardRefWrapper } from '../../../libs/forward-ref-wrapper';\n\nimport styles from './radio.less';\n\nconst RadioGroupContext = /* @__PURE__ */ createContext<any>({});\n\ninterface RadioGroupProps {\n  name: string;\n  selectedValue?: string | number | boolean;\n  onChange?: React.EventHandler<React.ChangeEvent<HTMLInputElement>>;\n}\n\nexport const RadioGroup: React.FC<RadioGroupProps> = (props) => {\n  const { name, selectedValue, onChange, children } = props;\n\n  return <RadioGroupContext.Provider value={{ name, selectedValue, onChange }}>{children}</RadioGroupContext.Provider>;\n};\n\nRadioGroup.defaultProps = {\n  onChange: () => {},\n};\n\nRadioGroup.displayName = 'RadioGroup';\n\ninterface RadioProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  color?: 'primary' | 'success' | 'warning' | 'error';\n  onPress?: (event: PressEvent) => void;\n}\n\nexport const Radio = /* @__PURE__ */ forwardRefWrapper<HTMLInputElement, RadioProps>(\n  'Radio',\n\n  { color: 'primary' },\n\n  (props, externalRef) => {\n    const { onPress, disabled, checked, label, color, value, ...otherProps } = props;\n\n    const inputRef = useRef<HTMLInputElement | null>(null);\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const { pressProps, isPressed } = usePress({ onPress, isDisabled: disabled });\n    const { isHovered, hoverProps } = useHover({ isDisabled: disabled });\n    const getScaleInProps = useScaleIn();\n    const getScaleProps = useScale();\n\n    const { name, selectedValue, onChange } = useContext(RadioGroupContext);\n\n    const isChecked =\n      checked ||\n      (Array.isArray(value)\n        ? value.every((i) => i === selectedValue)\n        : selectedValue === value && typeof value !== 'undefined' && value !== null);\n\n    return (\n      <label className={styles.Radio}>\n        <input\n          type=\"radio\"\n          disabled={disabled}\n          aria-disabled={disabled}\n          tabIndex={0}\n          value={value}\n          checked={isChecked}\n          {...mergeProps({ name, onChange }, pressProps, focusProps, hoverProps, otherProps)}\n          ref={composeRefs(inputRef, externalRef)}\n        />\n\n        <span\n          className={classNames([\n            styles.radiomark,\n            styles[`color_${color}`],\n            disabled && styles.disabled,\n            isChecked && styles.checked,\n            isFocusVisible && styles.focusVisible,\n            isPressed && styles.active,\n            isHovered && styles.hover,\n          ])}\n          aria-hidden=\"true\"\n        >\n          <AnimatePresence>\n            {isFocusVisible && (\n              <motion.span aria-hidden=\"true\" className={styles.focusRing} {...getScaleInProps(1.1)} />\n            )}\n          </AnimatePresence>\n\n          <AnimatePresence initial={false}>\n            {isChecked && (\n              <motion.span className={styles.radiomarkIcon} {...getScaleProps(0.7)} key={0}>\n                <span />\n              </motion.span>\n            )}\n          </AnimatePresence>\n        </span>\n\n        {label && (\n          <>\n            <Spacer size={8} inline />\n            <span>{label}</span>\n          </>\n        )}\n      </label>\n    );\n  },\n);\n"],"names":["styles"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAgBA,MAAM,iBAAiB,mBAAmB,aAAa,CAAM,EAAE,CAAC,CAAC;MAQpD,UAAU,GAA8B,CAAC,KAAK;IACzD,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;IAE1D,OAAO,oBAAC,iBAAiB,CAAC,QAAQ,IAAC,KAAK,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAG,QAAQ,CAA8B,CAAC;AACvH,EAAE;AAEF,UAAU,CAAC,YAAY,GAAG;IACxB,QAAQ,EAAE,SAAQ;CACnB,CAAC;AAEF,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC;MAQzB,KAAK,mBAAmB,iBAAiB,CACpD,OAAO,EAEP,EAAE,KAAK,EAAE,SAAS,EAAE,EAEpB,CAAC,KAAK,EAAE,WAAW;IACjB,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,KAAoB,KAAK,EAApB,UAAU,UAAK,KAAK,EAA1E,6DAAkE,CAAQ,CAAC;IAEjF,MAAM,QAAQ,GAAG,MAAM,CAA0B,IAAI,CAAC,CAAC;IACvD,MAAM,EAAE,cAAc,EAAE,UAAU,EAAE,GAAG,YAAY,EAAE,CAAC;IACtD,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,QAAQ,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,CAAC;IAC9E,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,QAAQ,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,CAAC;IACrE,MAAM,eAAe,GAAG,UAAU,EAAE,CAAC;IACrC,MAAM,aAAa,GAAG,QAAQ,EAAE,CAAC;IAEjC,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,GAAG,UAAU,CAAC,iBAAiB,CAAC,CAAC;IAExE,MAAM,SAAS,GACb,OAAO;SACN,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;cACjB,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,aAAa,CAAC;cACvC,aAAa,KAAK,KAAK,IAAI,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,CAAC,CAAC;IAEjF,QACE,+BAAO,SAAS,EAAEA,gBAAM,CAAC,KAAK;QAC5B,6CACE,IAAI,EAAC,OAAO,EACZ,QAAQ,EAAE,QAAQ,mBACH,QAAQ,EACvB,QAAQ,EAAE,CAAC,EACX,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,SAAS,IACd,UAAU,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC,IAClF,GAAG,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,IACvC;QAEF,8BACE,SAAS,EAAE,UAAU,CAAC;gBACpBA,gBAAM,CAAC,SAAS;gBAChBA,gBAAM,CAAC,SAAS,KAAK,EAAE,CAAC;gBACxB,QAAQ,IAAIA,gBAAM,CAAC,QAAQ;gBAC3B,SAAS,IAAIA,gBAAM,CAAC,OAAO;gBAC3B,cAAc,IAAIA,gBAAM,CAAC,YAAY;gBACrC,SAAS,IAAIA,gBAAM,CAAC,MAAM;gBAC1B,SAAS,IAAIA,gBAAM,CAAC,KAAK;aAC1B,CAAC,iBACU,MAAM;YAElB,oBAAC,eAAe,QACb,cAAc,KACb,oBAAC,MAAM,CAAC,IAAI,iCAAa,MAAM,EAAC,SAAS,EAAEA,gBAAM,CAAC,SAAS,IAAM,eAAe,CAAC,GAAG,CAAC,EAAI,CAC1F,CACe;YAElB,oBAAC,eAAe,IAAC,OAAO,EAAE,KAAK,IAC5B,SAAS,KACR,oBAAC,MAAM,CAAC,IAAI,kBAAC,SAAS,EAAEA,gBAAM,CAAC,aAAa,IAAM,aAAa,CAAC,GAAG,CAAC,IAAE,GAAG,EAAE,CAAC;gBAC1E,iCAAQ,CACI,CACf,CACe,CACb;QAEN,KAAK,KACJ;YACE,oBAAC,MAAM,IAAC,IAAI,EAAE,CAAC,EAAE,MAAM,SAAG;YAC1B,kCAAO,KAAK,CAAQ,CACnB,CACJ,CACK,EACR;AACJ,CAAC;;;;"}