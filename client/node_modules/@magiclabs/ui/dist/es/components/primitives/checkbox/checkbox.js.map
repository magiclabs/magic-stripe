{"version":3,"file":"checkbox.js","sources":["../../../../../src/components/primitives/checkbox/checkbox.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport React, { useEffect, useRef } from 'react';\nimport { PressEvent } from '@react-types/shared';\nimport { usePress, useHover } from '@react-aria/interactions';\nimport composeRefs from '@seznam/compose-react-refs';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useFocusRing } from '@react-aria/focus';\nimport { mergeProps } from '../../../libs/merge-props';\nimport { classNames } from '../../../libs/class-names';\nimport { Spacer } from '../../layout';\nimport { Icon, MonochromeIconDefinition } from '../../icons';\nimport { useScale, useScaleIn } from '../../../hooks/transitions';\nimport { forwardRefWrapper } from '../../../libs/forward-ref-wrapper';\n\nimport styles from './checkbox.less';\n\nconst CheckmarkIcon: MonochromeIconDefinition = {\n  SVGContents: ({ fill }) => {\n    return (\n      <path\n        d=\"M12.9374 0.446429L13.2945 0.848214C13.5177 1.02679 13.5177 1.38393 13.2945 1.60714L5.25879 9.59822C5.03558 9.77679 4.67843 9.77679 4.49986 9.59822L0.660575 5.71429C0.43736 5.49107 0.43736 5.17857 0.660575 4.95536L1.01772 4.59821C1.24093 4.375 1.59807 4.375 1.77665 4.59821L4.857 7.67857L12.1784 0.446429C12.357 0.267857 12.7141 0.267857 12.9374 0.446429Z\"\n        {...fill}\n      />\n    );\n  },\n\n  viewbox: [0, 0, 14, 10],\n\n  color: (theme) => theme.hex.secondary.base,\n};\n\ninterface CheckboxProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  color?: 'primary' | 'success' | 'warning' | 'error';\n  indeterminate?: boolean;\n  onPress?: (event: PressEvent) => void;\n}\n\nexport const Checkbox = /* @__PURE__ */ forwardRefWrapper<HTMLInputElement, CheckboxProps>(\n  'Checkbox',\n\n  { color: 'primary' },\n\n  (props, externalRef) => {\n    const { onPress, disabled, checked, label, indeterminate, color, ...otherProps } = props;\n\n    const inputRef = useRef<HTMLInputElement | null>(null);\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const { pressProps, isPressed } = usePress({ onPress, isDisabled: disabled });\n    const { isHovered, hoverProps } = useHover({ isDisabled: disabled });\n    const getScaleInProps = useScaleIn();\n    const getScaleProps = useScale();\n\n    useEffect(() => {\n      if (inputRef.current) {\n        inputRef.current.indeterminate = !!indeterminate;\n      }\n    }, [indeterminate]);\n\n    return (\n      <label className={styles.Checkbox}>\n        <input\n          type=\"checkbox\"\n          disabled={disabled}\n          aria-disabled={disabled}\n          checked={checked}\n          tabIndex={0}\n          {...mergeProps(pressProps, focusProps, hoverProps, otherProps)}\n          ref={composeRefs(inputRef, externalRef)}\n        />\n\n        <span\n          className={classNames([\n            styles.checkmark,\n            styles[`color_${color}`],\n            disabled && styles.disabled,\n            checked && styles.checked,\n            isFocusVisible && styles.focusVisible,\n            isPressed && styles.active,\n            isHovered && styles.hover,\n            indeterminate && styles.indeterminate,\n          ])}\n          aria-hidden=\"true\"\n        >\n          <AnimatePresence>\n            {isFocusVisible && (\n              <motion.span aria-hidden=\"true\" className={styles.focusRing} {...getScaleInProps(1.1)} />\n            )}\n          </AnimatePresence>\n\n          <AnimatePresence initial={false}>\n            {checked && !indeterminate && (\n              <motion.span className={styles.checkmarkIcon} {...getScaleProps(0.7)} key={0}>\n                <Icon size={14} type={CheckmarkIcon} />\n              </motion.span>\n            )}\n\n            {checked && !!indeterminate && (\n              <motion.span className={styles.indeterminancyIcon} {...getScaleProps(0.7)} key={1}>\n                <span />\n              </motion.span>\n            )}\n          </AnimatePresence>\n        </span>\n\n        {label && (\n          <>\n            <Spacer size={8} inline />\n            <span>{label}</span>\n          </>\n        )}\n      </label>\n    );\n  },\n);\n"],"names":["styles"],"mappings":"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"}