'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var useIsomorphicLayoutEffect = require('../../hooks/use-isomorphic-layout-effect.js');
var ReactDOM = require('react-dom');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var ReactDOM__default = /*#__PURE__*/_interopDefaultLegacy(ReactDOM);

let portalID = 0;
const EphemeralPortal = ({ children }) => {
    const [portalContext, setPortalContext] = React.useState(null);
    // Setup/teardown the tooltip context
    useIsomorphicLayoutEffect.useIsomorphicLayoutEffect(() => {
        const container = document.createElement('div');
        container.dataset.mgEphemeralPortal = String(++portalID);
        document.body.appendChild(container);
        setPortalContext(container);
        return () => container.remove();
    }, []);
    return portalContext ? React__default['default'].createElement(React__default['default'].Fragment, null, ReactDOM__default['default'].createPortal(children, portalContext)) : null;
};

exports.EphemeralPortal = EphemeralPortal;
//# sourceMappingURL=ephemeral-portal.js.map
