{"version":3,"file":"ssr-provider.js","sources":["../../../src/components/ssr-provider.tsx"],"sourcesContent":["import React, { createContext, useContext, useLayoutEffect, useState } from 'react';\nimport { SSRProvider as ReactAriaSSRProvider } from '@react-aria/ssr';\n\nconst canUseDOM = /* @__PURE__ */ Boolean(\n  typeof window !== 'undefined' && window.document && window.document.createElement,\n);\n\ninterface SSRContext {\n  isServer: boolean;\n  isClient: boolean;\n}\n\nconst defaultSSRContext: SSRContext = { isServer: !canUseDOM, isClient: canUseDOM };\n\nconst SSRContext = /* @__PURE__ */ createContext<SSRContext>(defaultSSRContext);\n\nexport const SSRProvider: React.FC = (props) => {\n  const { children } = props;\n\n  // Copy the default context so that strict equality\n  // checks against the context value are falsey.\n  const ctx = { ...defaultSSRContext };\n\n  return (\n    <SSRContext.Provider value={ctx}>\n      <ReactAriaSSRProvider>{children}</ReactAriaSSRProvider>\n    </SSRContext.Provider>\n  );\n};\n\nexport function useSSR() {\n  const ctx = useContext(SSRContext);\n  const isInSSRContext = ctx !== defaultSSRContext;\n  const [isHydrating, setIsHydrating] = useState(canUseDOM && isInSSRContext);\n\n  if (canUseDOM) {\n    useLayoutEffect(() => setIsHydrating(false), []);\n  }\n\n  return { ...ctx, isHydrating };\n}\n"],"names":["createContext","React","ReactAriaSSRProvider","useContext","useState","useLayoutEffect"],"mappings":";;;;;;;;;;;AAGA,MAAM,SAAS,mBAAmB,OAAO,CACvC,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,aAAa,CAClF,CAAC;AAOF,MAAM,iBAAiB,GAAe,EAAE,QAAQ,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC;AAEpF,MAAM,UAAU,mBAAmBA,mBAAa,CAAa,iBAAiB,CAAC,CAAC;MAEnE,WAAW,GAAa,CAAC,KAAK;IACzC,MAAM,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;;;IAI3B,MAAM,GAAG,qBAAQ,iBAAiB,CAAE,CAAC;IAErC,QACEC,wCAAC,UAAU,CAAC,QAAQ,IAAC,KAAK,EAAE,GAAG;QAC7BA,wCAACC,eAAoB,QAAE,QAAQ,CAAwB,CACnC,EACtB;AACJ,EAAE;SAEc,MAAM;IACpB,MAAM,GAAG,GAAGC,gBAAU,CAAC,UAAU,CAAC,CAAC;IACnC,MAAM,cAAc,GAAG,GAAG,KAAK,iBAAiB,CAAC;IACjD,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAGC,cAAQ,CAAC,SAAS,IAAI,cAAc,CAAC,CAAC;IAE5E,IAAI,SAAS,EAAE;QACbC,qBAAe,CAAC,MAAM,cAAc,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;KAClD;IAED,uCAAY,GAAG,KAAE,WAAW,IAAG;AACjC;;;;;"}