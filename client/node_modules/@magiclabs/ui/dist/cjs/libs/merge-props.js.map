{"version":3,"file":"merge-props.js","sources":["../../../src/libs/merge-props.ts"],"sourcesContent":["import { classNames } from './class-names';\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n *\n * Based on `chain` utility from `@react-aria/utils`\n *\n * @see the LICENSE file at the root of this source tree:\n *   https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/utils/src/chain.ts\n *\n * Modifications from original source: none\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (const callback of callbacks) {\n      if (typeof callback === 'function') callback(...args);\n    }\n  };\n}\n\n/**\n * Merges multiple props objects together. Event handlers are chained and\n * classNames are combined For all other props, the latest prop object overrides\n * earlier ones.\n *\n * Based on `mergeProps` utility from `@react-aria/utils`\n *\n * @see the LICENSE file at the root of this source tree:\n *   https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/utils/src/mergeProps.ts\n *\n * Modifications from original source:\n *   - Filters `...args` to remove falsey values\n *   - Removes `UNSAFE_className` compatibility\n *   - Removes dependency on `clsx` NPM package\n *   - Removes `id` merging\n *   - Adds `style` merging\n */\nexport function mergeProps<T extends (Record<string, any> | undefined | null | boolean)[]>(...args: T) {\n  const argsFiltered = args.filter(Boolean) as Record<string, any>[];\n  const result: Record<string, any> = {};\n\n  for (const props of argsFiltered) {\n    for (const key in result) {\n      if (/^on[A-Z]/.test(key) && typeof result[key] === 'function' && typeof props[key] === 'function') {\n        // Chain event handlers\n        result[key] = chain(result[key], props[key]);\n      } else if (key === 'className') {\n        // Merge class names\n        result[key] = classNames([result.className, props.className]);\n      } else if (key === 'style' && typeof props[key] === 'object') {\n        result[key] = { ...(result[key] ?? {}), ...(props[key] ?? {}) };\n      } else {\n        // Override others\n        result[key] = props[key] !== undefined ? props[key] : result[key];\n      }\n    }\n\n    // Add props from B that are not in A\n    for (const key in props) {\n      if (result[key] === undefined) {\n        result[key] = props[key];\n      }\n    }\n  }\n\n  return result;\n}\n"],"names":["classNames"],"mappings":";;;;;;AAEA;;;;;;;;;;SAUgB,KAAK,CAAC,GAAG,SAAgB;IACvC,OAAO,CAAC,GAAG,IAAW;QACpB,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,IAAI,OAAO,QAAQ,KAAK,UAAU;gBAAE,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC;SACvD;KACF,CAAC;AACJ,CAAC;AAED;;;;;;;;;;;;;;;;;SAiBgB,UAAU,CAAiE,GAAG,IAAO;;IACnG,MAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAA0B,CAAC;IACnE,MAAM,MAAM,GAAwB,EAAE,CAAC;IAEvC,KAAK,MAAM,KAAK,IAAI,YAAY,EAAE;QAChC,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;YACxB,IAAI,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,UAAU,IAAI,OAAO,KAAK,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE;;gBAEjG,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;aAC9C;iBAAM,IAAI,GAAG,KAAK,WAAW,EAAE;;gBAE9B,MAAM,CAAC,GAAG,CAAC,GAAGA,qBAAU,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;aAC/D;iBAAM,IAAI,GAAG,KAAK,OAAO,IAAI,OAAO,KAAK,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE;gBAC5D,MAAM,CAAC,GAAG,CAAC,0CAAS,MAAM,CAAC,GAAG,CAAC,mCAAI,EAAE,WAAO,KAAK,CAAC,GAAG,CAAC,mCAAI,EAAE,EAAG,CAAC;aACjE;iBAAM;;gBAEL,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,KAAK,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;aACnE;SACF;;QAGD,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;YACvB,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;gBAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;aAC1B;SACF;KACF;IAED,OAAO,MAAM,CAAC;AAChB;;;;;"}