import React, { useState, useCallback } from 'react';
import { withDesign } from 'storybook-addon-designs';
import { StoryMetadata, Story } from '../../types/storybook-metadata';
import { ToggleButton } from '../../components/primitives';

export default {
  title: 'Primitives/Toggle',
  component: ToggleButton,
  decorators: [withDesign],
} as StoryMetadata;

export const ToggleStory: Story = (args) => {
  const { checked: _checked, ...otherArgs } = args;
  const [checked, setChecked] = useState(true);
  const toggle = useCallback(() => setChecked(!checked), [checked]);

  return <ToggleButton {...otherArgs} checked={checked} onPress={toggle} />;
};

ToggleStory.argTypes = {
  checked: { control: { type: null } },
};

ToggleStory.storyName = 'Toggle';

ToggleStory.parameters = {
  design: {
    type: 'figma',
    url: 'https://www.figma.com/file/vn0cdq2HFXKIEMyVHQNFpr/%E2%9D%96-UI-Components-v2?node-id=175%3A62',
  },
};
