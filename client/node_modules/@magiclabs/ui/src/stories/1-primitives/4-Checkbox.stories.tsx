import React, { useState, useCallback } from 'react';
import { withDesign } from 'storybook-addon-designs';
import { StoryMetadata, Story } from '../../types/storybook-metadata';
import { Checkbox } from '../../components/primitives';

export default {
  title: 'Primitives/Checkbox',
  component: Checkbox,
  decorators: [withDesign],
} as StoryMetadata;

export const CheckboxStory: Story = (args) => {
  const { checked: _checked, ...otherArgs } = args;
  const [checked, setChecked] = useState(true);
  const toggle = useCallback(() => setChecked(!checked), [checked]);

  return <Checkbox {...otherArgs} checked={checked} onPress={toggle} />;
};

CheckboxStory.argTypes = {
  checked: { control: { type: null } },
};

CheckboxStory.storyName = 'Checkbox';

CheckboxStory.parameters = {
  design: {
    type: 'figma',
    url: 'https://www.figma.com/file/vn0cdq2HFXKIEMyVHQNFpr/%E2%9D%96-UI-Components-v2?node-id=143%3A4',
  },
};
