{"ast":null,"code":"import { MagicIncomingWindowMessage } from '@magic-sdk/types';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(transport) {\n    this.transport = transport; // Get the `endpoint` and `parameters` value\n    // from the underlying `transport` instance.\n\n    this.endpoint = transport.endpoint;\n    this.parameters = transport.parameters; // Create a promise that resolves when\n    // the view is ready for messages.\n\n    this.ready = this.waitForReady();\n    if (this.init) this.init();\n    this.listen();\n  }\n\n  ViewController.prototype.waitForReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      _this.transport.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, function () {\n        return resolve();\n      });\n    });\n  };\n  /**\n   * Listen for messages sent from the underlying Magic `<WebView>`.\n   */\n\n\n  ViewController.prototype.listen = function () {\n    var _this = this;\n\n    this.transport.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, function () {\n      _this.hideOverlay();\n    });\n    this.transport.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, function () {\n      _this.showOverlay();\n    });\n  };\n\n  return ViewController;\n}();\n\nexport { ViewController };","map":{"version":3,"sources":["../../../src/core/view-controller.ts"],"names":[],"mappings":"AAAA,SAAS,0BAAT,QAAgE,kBAAhE;;AAGA,IAAA,cAAA;AAAA;AAAA,YAAA;AAKE,WAAA,cAAA,CAA+B,SAA/B,EAAmD;AAApB,SAAA,SAAA,GAAA,SAAA,CAAoB,CACjD;AACA;;AACA,SAAK,QAAL,GAAiB,SAAiB,CAAC,QAAnC;AACA,SAAK,UAAL,GAAmB,SAAiB,CAAC,UAArC,CAJiD,CAMjD;AACA;;AACA,SAAK,KAAL,GAAa,KAAK,YAAL,EAAb;AAEA,QAAI,KAAK,IAAT,EAAe,KAAK,IAAL;AAEf,SAAK,MAAL;AACD;;AAOO,EAAA,cAAA,CAAA,SAAA,CAAA,YAAA,GAAR,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,WAAO,IAAI,OAAJ,CAAkB,UAAC,OAAD,EAAQ;AAC/B,MAAA,KAAI,CAAC,SAAL,CAAe,EAAf,CAAkB,0BAA0B,CAAC,mBAA7C,EAAkE,YAAA;AAAM,eAAA,OAAA,EAAA;AAAS,OAAjF;AACD,KAFM,CAAP;AAGD,GAJO;AAMR;;AAEG;;;AACK,EAAA,cAAA,CAAA,SAAA,CAAA,MAAA,GAAR,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,SAAK,SAAL,CAAe,EAAf,CAAkB,0BAA0B,CAAC,kBAA7C,EAAiE,YAAA;AAC/D,MAAA,KAAI,CAAC,WAAL;AACD,KAFD;AAIA,SAAK,SAAL,CAAe,EAAf,CAAkB,0BAA0B,CAAC,kBAA7C,EAAiE,YAAA;AAC/D,MAAA,KAAI,CAAC,WAAL;AACD,KAFD;AAGD,GARO;;AASV,SAAA,cAAA;AAAC,CA3CD,EAAA","sourceRoot":"","sourcesContent":["import { MagicIncomingWindowMessage } from '@magic-sdk/types';\nvar ViewController = /** @class */ (function () {\n    function ViewController(transport) {\n        this.transport = transport;\n        // Get the `endpoint` and `parameters` value\n        // from the underlying `transport` instance.\n        this.endpoint = transport.endpoint;\n        this.parameters = transport.parameters;\n        // Create a promise that resolves when\n        // the view is ready for messages.\n        this.ready = this.waitForReady();\n        if (this.init)\n            this.init();\n        this.listen();\n    }\n    ViewController.prototype.waitForReady = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.transport.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, function () { return resolve(); });\n        });\n    };\n    /**\n     * Listen for messages sent from the underlying Magic `<WebView>`.\n     */\n    ViewController.prototype.listen = function () {\n        var _this = this;\n        this.transport.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, function () {\n            _this.hideOverlay();\n        });\n        this.transport.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, function () {\n            _this.showOverlay();\n        });\n    };\n    return ViewController;\n}());\nexport { ViewController };\n//# sourceMappingURL=view-controller.js.map"]},"metadata":{},"sourceType":"module"}