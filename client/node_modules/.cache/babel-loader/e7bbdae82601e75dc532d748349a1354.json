{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction composeRefs() {\n  var refs = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    refs[_i] = arguments[_i];\n  }\n\n  if (refs.length === 2) {\n    // micro-optimize the hot path\n    return composeTwoRefs(refs[0], refs[1]) || null;\n  }\n\n  var composedRef = refs.slice(1).reduce(function (semiCombinedRef, refToInclude) {\n    return composeTwoRefs(semiCombinedRef, refToInclude);\n  }, refs[0]);\n  return composedRef || null;\n}\n\nexports.default = composeRefs;\nvar composedRefCache = new WeakMap();\n\nfunction composeTwoRefs(ref1, ref2) {\n  if (ref1 && ref2) {\n    var ref1Cache = composedRefCache.get(ref1) || new WeakMap();\n    composedRefCache.set(ref1, ref1Cache);\n\n    var composedRef = ref1Cache.get(ref2) || function (instance) {\n      updateRef(ref1, instance);\n      updateRef(ref2, instance);\n    };\n\n    ref1Cache.set(ref2, composedRef);\n    return composedRef;\n  }\n\n  if (!ref1) {\n    return ref2;\n  } else {\n    return ref1;\n  }\n}\n\nfunction updateRef(ref, instance) {\n  if (typeof ref === 'function') {\n    ref(instance);\n  } else {\n    ref.current = instance;\n  }\n}","map":{"version":3,"sources":["composeRefs.ts"],"names":[],"mappings":";;;;;;AAIA,SAAwB,WAAxB,GAAmC;AAAI,MAAA,IAAA,GAAA,EAAA;;OAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAmE;AAAnE,IAAA,IAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AACrC,MAAI,IAAI,CAAC,MAAL,KAAgB,CAApB,EAAuB;AAAE;AACvB,WAAO,cAAc,CAAC,IAAI,CAAC,CAAD,CAAL,EAAU,IAAI,CAAC,CAAD,CAAd,CAAd,IAAoC,IAA3C;AACD;;AAED,MAAM,WAAW,GAAG,IAAI,CAAC,KAAL,CAAW,CAAX,EAAc,MAAd,CAClB,UAAC,eAAD,EAAkC,YAAlC,EAA8D;AAAK,WAAA,cAAc,CAAC,eAAD,EAAd,YAAc,CAAd;AAA6C,GAD9F,EAElB,IAAI,CAAC,CAAD,CAFc,CAApB;AAIA,SAAO,WAAW,IAAI,IAAtB;AACD;;AAVD,OAAA,CAAA,OAAA,GAAA,WAAA;AAaA,IAAM,gBAAgB,GAAG,IAAI,OAAJ,EAAzB;;AAEA,SAAS,cAAT,CAA2B,IAA3B,EAAiD,IAAjD,EAAqE;AACnE,MAAI,IAAI,IAAI,IAAZ,EAAkB;AAChB,QAAM,SAAS,GAAG,gBAAgB,CAAC,GAAjB,CAAqB,IAArB,KAA8B,IAAI,OAAJ,EAAhD;AACA,IAAA,gBAAgB,CAAC,GAAjB,CAAqB,IAArB,EAA2B,SAA3B;;AAEA,QAAM,WAAW,GAAG,SAAS,CAAC,GAAV,CAAc,IAAd,KAAwB,UAAC,QAAD,EAAY;AACtD,MAAA,SAAS,CAAC,IAAD,EAAO,QAAP,CAAT;AACA,MAAA,SAAS,CAAC,IAAD,EAAO,QAAP,CAAT;AACD,KAHD;;AAIA,IAAA,SAAS,CAAC,GAAV,CAAc,IAAd,EAAoB,WAApB;AAEA,WAAO,WAAP;AACD;;AAED,MAAI,CAAC,IAAL,EAAW;AACT,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF;;AAED,SAAS,SAAT,CAAsB,GAAtB,EAA0C,QAA1C,EAA4D;AAC1D,MAAI,OAAO,GAAP,KAAe,UAAnB,EAA+B;AAC7B,IAAA,GAAG,CAAC,QAAD,CAAH;AACD,GAFD,MAEO;AACJ,IAAA,GAAkC,CAAC,OAAnC,GAA6C,QAA7C;AACF;AACF","sourceRoot":"./","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction composeRefs() {\n    var refs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        refs[_i] = arguments[_i];\n    }\n    if (refs.length === 2) { // micro-optimize the hot path\n        return composeTwoRefs(refs[0], refs[1]) || null;\n    }\n    var composedRef = refs.slice(1).reduce(function (semiCombinedRef, refToInclude) { return composeTwoRefs(semiCombinedRef, refToInclude); }, refs[0]);\n    return composedRef || null;\n}\nexports.default = composeRefs;\nvar composedRefCache = new WeakMap();\nfunction composeTwoRefs(ref1, ref2) {\n    if (ref1 && ref2) {\n        var ref1Cache = composedRefCache.get(ref1) || new WeakMap();\n        composedRefCache.set(ref1, ref1Cache);\n        var composedRef = ref1Cache.get(ref2) || (function (instance) {\n            updateRef(ref1, instance);\n            updateRef(ref2, instance);\n        });\n        ref1Cache.set(ref2, composedRef);\n        return composedRef;\n    }\n    if (!ref1) {\n        return ref2;\n    }\n    else {\n        return ref1;\n    }\n}\nfunction updateRef(ref, instance) {\n    if (typeof ref === 'function') {\n        ref(instance);\n    }\n    else {\n        ref.current = instance;\n    }\n}\n//# sourceMappingURL=composeRefs.js.map"]},"metadata":{},"sourceType":"script"}