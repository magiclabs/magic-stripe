{"ast":null,"code":"var _jsxFileName = \"/Users/maricrisbonzo/Desktop/magic-apps/membership-site/client/src/components/payment.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { UserContext } from \"../lib/UserContext\";\nimport Loading from \"./loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Payment({\n  Elements,\n  PaymentForm,\n  promise\n}) {\n  _s();\n\n  const [user] = useContext(UserContext);\n  const history = useHistory(); // If not loading and no user found, redirect to /login\n\n  useEffect(() => {\n    user && !user.loading && !user.issuer && history.push(\"/login\");\n  }, [user, history]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"h3-header\",\n      children: \"Purchase Lifetime Access Pass to Awesomeness \\uD83E\\uDD29\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Hi again \", (user === null || user === void 0 ? void 0 : user.loading) ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 35\n      }, this) : user === null || user === void 0 ? void 0 : user.email, \"! You successfully signed up with your email. Please enter your card information below to purchase your Lifetime Access Pass securely via Stripe:\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), user ? /*#__PURE__*/_jsxDEV(Elements, {\n      stripe: promise,\n      children: /*#__PURE__*/_jsxDEV(PaymentForm, {\n        email: user.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this) : \"Waiting for user info...\", /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        p {\n          margin-bottom: 15px;\n        }\n        .h3-header {\n          font-size: 22px;\n          margin: 25px 0;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Payment, \"553+iUDGTb8OWbqB1+XWikAOFQw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["/Users/maricrisbonzo/Desktop/magic-apps/membership-site/client/src/components/payment.js"],"names":["useContext","useEffect","useHistory","UserContext","Loading","Payment","Elements","PaymentForm","promise","user","history","loading","issuer","push","email"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,eAAe,SAASC,OAAT,CAAiB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,WAAZ;AAAyBC,EAAAA;AAAzB,CAAjB,EAAqD;AAAA;;AAClE,QAAM,CAACC,IAAD,IAAST,UAAU,CAACG,WAAD,CAAzB;AACA,QAAMO,OAAO,GAAGR,UAAU,EAA1B,CAFkE,CAIlE;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,IAAI,IAAI,CAACA,IAAI,CAACE,OAAd,IAAyB,CAACF,IAAI,CAACG,MAA/B,IAAyCF,OAAO,CAACG,IAAR,CAAa,QAAb,CAAzC;AACD,GAFQ,EAEN,CAACJ,IAAD,EAAOC,OAAP,CAFM,CAAT;AAIA,sBACE;AAAA,4BACE;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAA,8BACY,CAAAD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEE,OAAN,iBAAgB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAAhB,GAA8BF,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEK,KADhD;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EASGL,IAAI,gBACH,QAAC,QAAD;AAAU,MAAA,MAAM,EAAED,OAAlB;AAAA,6BACE,QAAC,WAAD;AAAa,QAAA,KAAK,EAAEC,IAAI,CAACK;AAAzB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADG,GAKH,0BAdJ,eAgBE;AAAA,gBAAS;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARM;AAAA;AAAA;AAAA;AAAA,YAhBF;AAAA,kBADF;AA4BD;;GArCuBT,O;UAENH,U;;;KAFMG,O","sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { UserContext } from \"../lib/UserContext\";\nimport Loading from \"./loading\";\n\nexport default function Payment({ Elements, PaymentForm, promise }) {\n  const [user] = useContext(UserContext);\n  const history = useHistory();\n\n  // If not loading and no user found, redirect to /login\n  useEffect(() => {\n    user && !user.loading && !user.issuer && history.push(\"/login\");\n  }, [user, history]);\n\n  return (\n    <>\n      <h3 className=\"h3-header\">\n        Purchase Lifetime Access Pass to Awesomeness ðŸ¤©\n      </h3>\n      <p>\n        Hi again {user?.loading ? <Loading /> : user?.email}! You successfully\n        signed up with your email. Please enter your card information below to\n        purchase your Lifetime Access Pass securely via Stripe:\n      </p>\n      {user ? (\n        <Elements stripe={promise}>\n          <PaymentForm email={user.email} />\n        </Elements>\n      ) : (\n        \"Waiting for user info...\"\n      )}\n      <style>{`\n        p {\n          margin-bottom: 15px;\n        }\n        .h3-header {\n          font-size: 22px;\n          margin: 25px 0;\n        }\n      `}</style>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}